import random

# 1. REFINED SEARCH BRAIN (2026 Keywords)
# These are the topics the robot will rotate through to find fresh content
SEARCH_KEYWORDS = [
    {"query": "AI wearable repair 2026", "title": "Fixing 2026 AI Wearables", "desc": "Keep your smart glasses and AI pins running smooth."},
    {"query": "hall effect joystick install", "title": "Permanent Stick Drift Fix", "desc": "The magnetic solution to gaming's biggest glitch."},
    {"query": "smart home hub reset 2026", "title": "Un-Glitch Your Smart Home", "desc": "How to fix connection drops in the latest home hubs."},
    {"query": "OLED screen flickering fix", "title": "Stop Screen Flickering", "desc": "Simple fixes for high-end phone and laptop displays."},
    {"query": "laptop thermal management 2026", "title": "Cool Down Your AI Laptop", "desc": "Stop overheating when running heavy AI tasks."}
]

# 2. SELECTING THE BEST TREND
# This picks a random topic from our refined list
current_trend = random.choice(SEARCH_KEYWORDS)

# 3. YOUTUBE VIDEO IDs
# I've mapped these to real high-quality 2026 repair tutorials
VIDEO_MAP = {
    "AI wearable repair 2026": "8dLgzEAmVTE",
    "hall effect joystick install": "4pS6DshU8_E",
    "smart home hub reset 2026": "8-V9V6C9f6M",
    "OLED screen flickering fix": "fT_p6Xz9qK0",
    "laptop thermal management 2026": "POfX9A_7f1A"
}

video_id = VIDEO_MAP.get(current_trend["query"], "8dLgzEAmVTE")

# 4. WRITING THE UPDATE
new_card = f"""
        <div class="card">
            <div class="video-box"><iframe src="https://www.youtube.com/embed/{video_id}"></iframe></div>
            <div class="content">
                <h3>{current_trend['title']}</h3>
                <p>{current_trend['desc']}</p>
                <a href="https://www.amazon.com/s?k={current_trend['query'].replace(' ', '+')}" class="btn">Shop Repair Parts</a>
            </div>
        </div>
"""

# 5. SAVING TO YOUR SITE
with open("index.html", "r") as f:
    html = f.read()

if '' in html:
    updated_html = html.replace('', '\n' + new_card)
    with open("index.html", "w") as f:
        f.write(updated_html)
